"Scr_ViewDelegation As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    Fill: =RGBA(255, 255, 255, 1)
    OnVisible: =

    Canvas4_2 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Fill: =RGBA(235, 235, 235, 1)
        Height: =Parent.Height - Self.Y
        Width: =Parent.Width
        Y: |-
            =//Switch(App.ActiveScreen.Size,4,HeaderNavigation_5.Y +80,3,30,20)
            lblNewDelegation_4.Y+lblNewDelegation_4.Height+10
        ZIndex: =1

        DataCard4_2 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(241, 244, 249, 1)
            Height: =Parent.Height - 100
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            Container3_2 As groupContainer.horizontalAutoLayoutContainer:
                Height: =679
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                Width: =Parent.Width
                X: |-
                    =//BreadcrumbNewDelegation_1.X
                    0
                Y: |-
                    =//lblNewDelegation_1.Y+lblNewDelegation_1.Height+10
                    0
                ZIndex: =4

                Container4_2 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =dtReturnDa_2.Y+dtReturnDa_2.Height+20
                    LayoutMinHeight: =dtReturnDa_2.Y+dtReturnDa_2.Height+20
                    LayoutMinWidth: =250
                    Width: =Parent.Width
                    ZIndex: =1

                    Rectangle2_2 As rectangle:
                        Fill: =RGBA(219, 219, 219, 1)
                        Height: =2
                        Visible: =false
                        Width: =Container4_2.Width
                        X: =Container4_2.X
                        Y: =Container4_2.Y+galNewDelegation_2.Height
                        ZIndex: =3

                    lblApproverNameDelegation_3 As label:
                        Font: =Apptheme.FontFamily
                        Height: =35
                        Size: =Apptheme.FontSize
                        Text: ="Approver Name"
                        Width: =If(App.ActiveScreen.Size>3,Parent.Width/2-150,Parent.Width-(2*Self.X))
                        X: =lblNewDelegation_4.X
                        Y: =lblImpNoteDelegation_2.Y+lblImpNoteDelegation_2.Height+10
                        ZIndex: =6

                    txtApproverName_3 As text:
                        AccessibleLabel: ="Approver Name"
                        BorderColor: =RGBA(237, 237, 237, 1)
                        BorderThickness: =0.1
                        Default: =varDelegationRecords.ApproverName
                        DisabledBorderColor: =RGBA(255, 255, 255, 1)
                        DisabledFill: =RGBA(237,237,237,100)
                        DisplayMode: |-
                            =If(varUserMail in varDelegationRecords.ApproverEmail && Today()<= DateValue(varDelegationRecords.ReturnDate) , DisplayMode.Edit, DisplayMode.Disabled)
                            //If(varUserMail in varDelegationRecords.ApproverEmail && dtReturnDa_2 < Today(), DisplayMode.Edit, DisplayMode.Disabled)
                        Fill: =RGBA(252, 252, 252, 1)
                        Font: =Apptheme.FontFamily
                        Height: =lblApproverNameDelegation_3.Height
                        HoverBorderColor: =RGBA(0, 0, 0, 0)
                        Size: =Apptheme.FontSize
                        Width: =If(App.ActiveScreen.Size>3,Parent.Width/2-150,Parent.Width-(2*Self.X))
                        X: =If(App.ActiveScreen.Size>3,lblApproverNameDelegation_3.X + lblApproverNameDelegation_3. Width+10,lblApproverNameDelegation_3.X)
                        Y: =If(App.ActiveScreen.Size>3,lblApproverNameDelegation_3.Y,lblApproverNameDelegation_3.Y+lblApproverNameDelegation_3.Height+10)
                        ZIndex: =7

                    lblSubtitleApprover_2 As label:
                        Font: =Apptheme.FontFamily
                        Height: =lblApproverNameDelegation_3.Height
                        Size: =Apptheme.FontSize
                        Text: ="Select delegate Approver"
                        Width: =If(App.ActiveScreen.Size>3,Parent.Width/2-150,Parent.Width-(2*Self.X))
                        X: =lblApproverNameDelegation_3.X
                        Y: |-
                            =txtApproverName_3.Y+txtApproverName_3.Height+30
                            //If(App.ActiveScreen.Size>2, lblApproverNameDelegation.Y,txtApproverName.Y+txtApproverName.Height+20)
                        ZIndex: =8

                    lblLeaveDa_2 As label:
                        Font: =Apptheme.FontFamily
                        Height: =lblApproverNameDelegation_3.Height
                        Size: =Apptheme.FontSize
                        Text: ="Approver Leave Date"
                        Width: =If(App.ActiveScreen.Size>3,Parent.Width/2-150,Parent.Width-(2*Self.X))
                        X: =lblApproverNameDelegation_3.X
                        Y: |-
                            =cmbDelegationApprover_2.Y+cmbDelegationApprover_2.Height+10
                            //drpSubtitleApprover.Y+drpSubtitleApprover.Height+20
                        ZIndex: =10

                    lblReturnDa_2 As label:
                        Font: =Apptheme.FontFamily
                        Height: =lblApproverNameDelegation_3.Height
                        Size: =Apptheme.FontSize
                        Text: ="Approver Return Date"
                        Width: =If(App.ActiveScreen.Size>3,Parent.Width/2-150,Parent.Width-(2*Self.X))
                        X: =lblApproverNameDelegation_3.X
                        Y: |-
                            =dtLeaveDate_2.Y+dtLeaveDate_2.Height+10
                            //If(App.ActiveScreen.Size>2, txtApproverName.Y+txtApproverName.Height+20,dtLeaveDate.Y+dtLeaveDate.Height+20)
                        ZIndex: =12

                    "galNewDelegation_2 As gallery.'BrowseLayout_Horizontal_TwoTextOneImageVariant_ver4.0'":
                        AccessibleLabel: ="Navigation for new request"
                        Height: =30
                        Items: |-
                            =Table({
                                No:1,
                                    Title: "Create Delegation"
                                    
                            },
                            {No:2,
                                    Title: "Create Delegation On Behalf Of"
                                     
                            })
                        OnSelect: =
                        TabIndex: =0
                        TemplatePadding: =0
                        TemplateSize: |
                            =//Min(440, Self.Height - 60)
                            IfError(Parent.Width/CountRows(Self.AllItems),0)
                        Width: =Parent.Width
                        WrapCount: =0
                        ZIndex: =16

                        btnNewReqNav_5 As button:
                            Align: =Align.Left
                            Color: =If(varCurrentDelegation=ThisItem.Title,RGBA(65, 182, 230, 1),RGBA(30, 40, 99, 1))
                            Fill: =RGBA(0, 0, 0, 0)
                            Font: =Apptheme.FontFamily
                            Height: =30
                            HoverBorderColor: |-
                                =//ColorFade(Self.BorderColor, 20%)
                                Self.Fill
                            HoverColor: =RGBA(65, 182, 230, 1)
                            HoverFill: |
                                =//ColorFade(RGBA(56, 96, 178, 1), -20%)
                                Self.Fill
                            OnSelect: |+
                                =Set(varCurrentDelegation,ThisItem.Title)
                                
                            PaddingRight: =0
                            PressedColor: =If(varCurrentDelegation=ThisItem.Title,RGBA(65, 182, 230, 1),RGBA(30, 40, 99, 1))
                            PressedFill: =Self.Fill
                            Size: =Apptheme.FontSize
                            Text: =ThisItem.Title
                            Visible: =false
                            Width: =Parent.TemplateWidth
                            ZIndex: =4

                    dtLeaveDate_2 As datepicker:
                        AccessibleLabel: ="New Date"
                        BorderColor: =RGBA(237, 237, 237, 1)
                        BorderThickness: =0.5
                        DefaultDate: =varDelegationRecords.LeaveDate
                        DisabledFill: =RGBA(237,237,237,100)
                        DisplayMode: =txtApproverName_3.DisplayMode
                        Font: =Apptheme.FontFamily
                        Height: =lblApproverNameDelegation_3.Height
                        IconBackground: =If(dtLeaveDate_2.DisplayMode="Edit", RGBA(56, 96, 178, 100))
                        IconFill: =Color.White
                        InputTextPlaceholder: =//If(IsBlank(Self.SelectedDate), Text(Date(2001,12,31), Self.Format, Self.Language))
                        Reset: =varReset
                        Size: =Apptheme.FontSize
                        Tooltip: ="DD/MM/YYYY"
                        Width: =If(App.ActiveScreen.Size>3,Parent.Width/2-150,Parent.Width-(2*Self.X))
                        X: =txtApproverName_3.X
                        Y: |-
                            =//lblLeaveDa_1.Y
                            If(App.ActiveScreen.Size>3,lblLeaveDa_2.Y,lblLeaveDa_2.Y+lblLeaveDa_2.Height+10)
                        ZIndex: =18

                    dtReturnDa_2 As datepicker:
                        AccessibleLabel: ="New Date"
                        BorderColor: =RGBA(237, 237, 237, 1)
                        BorderThickness: =0.5
                        DefaultDate: =varDelegationRecords.ReturnDate
                        DisabledFill: =RGBA(237,237,237,100)
                        DisplayMode: =txtApproverName_3.DisplayMode
                        Font: =Apptheme.FontFamily
                        Height: =lblApproverNameDelegation_3.Height
                        IconBackground: =If(dtReturnDa_2.DisplayMode="Edit", RGBA(56, 96, 178, 100))
                        IconFill: =Color.White
                        InputTextPlaceholder: =//If(IsBlank(Self.SelectedDate), Text(Date(2001,12,31), Self.Format, Self.Language))
                        Reset: =varReset
                        Size: =Apptheme.FontSize
                        Tooltip: ="DD/MM/YYYY"
                        Width: =If(App.ActiveScreen.Size>3,Parent.Width/2-150,Parent.Width-(2*Self.X))
                        X: =txtApproverName_3.X
                        Y: |-
                            =//lblReturnDa_1.Y
                            If(App.ActiveScreen.Size>3,lblReturnDa_2.Y,lblReturnDa_2.Y+lblReturnDa_2.Height+10)
                        ZIndex: =19

                    cmbDelegationApprover_2 As combobox:
                        AccessibleLabel: ="Approver2"
                        BorderColor: =RGBA(237, 237, 237, 1)
                        BorderThickness: =0.1
                        ChevronDisabledBackground: =RGBA(0, 0, 0, 0)
                        ChevronDisabledFill: =RGBA(0, 0, 0, 0)
                        ChevronFill: =RGBA(241, 244, 249, 1)
                        ChevronHoverBackground: =//ColorFade(RGBA(56, 96, 178, 1), -20%)
                        DefaultSelectedItems: =If(!IsBlank(varDelegationRecords.SubstituteApprover),Office365Users.UserProfile(varDelegationRecords.SubstituteApprover))
                        DisabledFill: =RGBA(237,237,237,100)
                        DisplayFields: =["DisplayName","Mail"]
                        DisplayMode: =txtApproverName_3.DisplayMode
                        Font: =Apptheme.FontFamily
                        Height: =lblApproverNameDelegation_3.Height
                        HoverBorderColor: =RGBA(255, 255, 255, 1)
                        HoverFill: =RGBA(255, 255, 255, 1)
                        IsSearchable: =false
                        Items: |-
                            =Office365Users.SearchUser({searchTerm:cmbDelegationApprover_2.SearchText})
                        OnChange: |
                            =ClearCollect(
                                colApproverValidation,
                                {
                                    Errors: If(cmbCurrentUser_1.Selected.DisplayName = Lower(cmbApprover1_1.Selected.DisplayName),
                                        LookUp(
                                            ValidationErrorMessage,
                                            Key = "errSameApprovers",
                                            Value
                                        )
                                    )
                                }
                            );
                            If(
                               // CountA(colPRValidation) > 0,
                                CountRows(
                                    Filter(
                                        colApproverValidation,
                                        !IsBlank(Errors)
                                    )
                                ) > 0,
                                UpdateContext(
                                    {
                                        varValidationPopUp: true,
                                        Loading: false
                                    }
                                ))
                        PressedColor: =RGBA(0, 0, 0, 1)
                        PressedFill: =RGBA(255, 255, 255, 1)
                        Reset: =varReset
                        SearchFields: =["DisplayName"]
                        SearchItems: =[]
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(204, 231, 246, 1)
                        SelectMultiple: =false
                        Size: =Apptheme.FontSize
                        Template: =ListItemTemplate.Double
                        Width: =If(App.ActiveScreen.Size>3,Parent.Width/2-150,Parent.Width-(2*Self.X))
                        X: =txtApproverName_3.X
                        Y: |-
                            =//lblSubtitleApprover_1.Y
                            If(App.ActiveScreen.Size>3,lblSubtitleApprover_2.Y,lblSubtitleApprover_2.Y+lblSubtitleApprover_2.Height+10)
                        ZIndex: =31

                    lblImpNoteDelegation_2 As label:
                        AutoHeight: =true
                        Font: =Apptheme.FontFamily
                        FontWeight: =FontWeight.Semibold
                        Height: =lblApproverNameDelegation_3.Height
                        Size: =Apptheme.FontSize
                        Text: |-
                            ="Important: Please make delegation only to approvers with management position"
                        Width: =galNewDelegation.Width
                        X: =lblNewDelegation_4.X
                        Y: =10
                        ZIndex: =32

                    lblSubstituteApproverAstrisk_3 As label:
                        Color: =RGBA(255, 0, 0, 1)
                        Font: =
                        Height: =20
                        Size: =15
                        Text: ="*"
                        Visible: =App.ActiveScreen.Size>3
                        Width: =30
                        X: =lblSubtitleApprover_2.X-10
                        Y: =lblSubtitleApprover_2.Y+(lblSubtitleApprover_2.Height-Self.Height)/2
                        ZIndex: =33

                    lblApproverLeaveDateAstrisk_3 As label:
                        Color: =RGBA(255, 0, 0, 1)
                        Font: =
                        Height: =20
                        Size: =15
                        Text: ="*"
                        Visible: =App.ActiveScreen.Size>3
                        Width: =30
                        X: =lblLeaveDa_2.X-10
                        Y: =lblLeaveDa_2.Y+(lblLeaveDa_2.Height-Self.Height)/2
                        ZIndex: =34

                    lblApproverReturnDateAstrisk_3 As label:
                        Color: =RGBA(255, 0, 0, 1)
                        Font: =
                        Height: =20
                        Size: =15
                        Text: ="*"
                        Visible: =App.ActiveScreen.Size>3
                        Width: =30
                        X: =lblReturnDa_2.X-10
                        Y: =lblReturnDa_2.Y+(lblReturnDa_2.Height-Self.Height)/2
                        ZIndex: =35

    Rectangle1_16 As rectangle:
        Fill: =RGBA(236, 225, 245, 1)
        Height: =60
        Width: =Parent.Width-(2*Self.X)
        X: =If(App.ActiveScreen.Size>3,60,20)
        Y: |-
            =Parent.Height-Self.Height-5
            //Switch(App.ActiveScreen.Size,4,60,3,30,20)
        ZIndex: =2

    btnPrint_16 As button:
        Color: =RGBA(91, 155, 213, 1)
        Fill: =RGBA(255, 255, 255, 1)
        Font: =Apptheme.FontFamily
        Height: =30
        OnSelect: =Print()
        PaddingLeft: =20
        Size: =Apptheme.FontSize
        Text: ="Print"
        Width: =130
        X: |-
            =//lblReferSite.X+Self.Width+20
            //lblReferSite_2.X+lblReferSite_2.Width
            If(App.ActiveScreen.Size>3, Rectangle1_16.X+Self.Width-60,Rectangle1_16.X+10)
        Y: =Rectangle1_16.Y+(Rectangle1_16.Height-Self.Height)/2
        ZIndex: =4

    btnSave_5 As button:
        BorderThickness: =0.1
        Fill: =RGBA(127, 178, 57, 1)
        Font: =Apptheme.FontFamily
        Height: =30
        HoverFill: =RGBA(127, 178, 57, 1)
        OnSelect: |-
            =UpdateContext({Loading: true});
            //Substitute Approver Days Check
            ClearCollect(
                colDel,
                Filter(
                    Delegation,
                    cmbDelegationApprover_2.Selected.Mail = SubstituteApprover
                )
            );
            ClearCollect(
                ColDel1,
                Filter(
                    colDel,
                    DateDiff(
                        Today(),
                        DateValue(ReturnDate)
                    ) >= 0
                )
            );
            Clear(colprocess);
            ForAll(
                ColDel1,
                Collect(
                    colprocess,
                    {
                        Value: If(
                            Not(IsBlank(ColDel1[@LeaveDate])) && dtReturnDa_2.SelectedDate >= ColDel1[@LeaveDate] && dtLeaveDate_2.SelectedDate <= ColDel1[@ReturnDate],
                            ColDel1[@ReturnDate]
                        )
                    }
                )
            );
            RemoveIf(
                colprocess,
                Value = Blank()
            );
            Set(
                varReturn,
                Concat(
                    colprocess,
                    Value,
                    ","
                )
            );
            
            // Original Approver Days Check
            ClearCollect(
                colDelOrig,
                Filter(
                    Delegation,
                    varUserMail = SubstituteApprover
                )
            );
            ClearCollect(
                colDelOrig1,
                Filter(
                    colDelOrig,
                    DateDiff(
                        Today(),
                        DateValue(ReturnDate)
                    ) >= 0
                )
            );
            Set(
                VarDelOrigDates,
                First(colDelOrig1)
            );
            Clear(colDelegationValidation3);
            ClearCollect(
                colDelegationValidation3,
                {
                    Errors: If(
                        IsBlank(cmbDelegationApprover_2),
                        LookUp(
                            ValidationErrorMessage,
                            Key = "errDelegationApprover",
                            Value
                        )
                    )
                },
                {
                    Errors: If(
                        (dtLeaveDate_2.SelectedDate < Today() || IsBlank(dtLeaveDate_2.SelectedDate)),
                        LookUp(
                            ValidationErrorMessage,
                            Key = "errDelegationDate",
                            Value & " for Leave Date"
                        )
                    )
                },
                {
                    Errors: If(
                        (dtReturnDa_2.SelectedDate < dtLeaveDate_1.SelectedDate || IsBlank(dtReturnDa_2.SelectedDate)),
                        LookUp(
                            ValidationErrorMessage,
                            Key = "errDelegationDate",
                            Value & " for Return Date"
                        )
                    )
                },
              /* {
                    Errors: If(
                     
                        Not IsBlank(VarDelDates.LeaveDate) && dtReturnDa_2.SelectedDate >= DateValue(VarDelDates.LeaveDate) && dtLeaveDate_2.SelectedDate <= DateValue(VarDelDates.ReturnDate),
                        Substitute(
                            LookUp(
                                ValidationErrorMessage,
                                Key = "errSameSubstituteApp",
                                Value
                            ),
                            "<ReturnDate>",
                            VarDelDates.ReturnDate
                        )
                    )
                },*/
                {
                    Errors: If(
                        CountRows(colprocess) > 0,
                        Substitute(
                            LookUp(
                                ValidationErrorMessage,
                                Key = "errSameSubstituteApp",
                                Value
                            ),
                            "<ReturnDate>",
                            varReturn
                        )
                    )
                },
                {
                    Errors: If(
                        varUserMail in colDelOrig1.SubstituteApprover && Not IsBlank(VarDelOrigDates.LeaveDate) && dtReturnDa_2.SelectedDate >= DateValue(VarDelOrigDates.LeaveDate) && dtLeaveDate_2.SelectedDate <= DateValue(VarDelOrigDates.ReturnDate),
                        LookUp(
                            ValidationErrorMessage,
                            Key = "errSameSubstituteApp1",
                            Value
                        )
                    )
                },
                 {
                    Errors: If(
                        AdminAccess = false && DateDiff(dtLeaveDate_2.SelectedDate,dtReturnDa_2.SelectedDate)>= Value(LookUp(GlobalConfig,Key="DelegationCutOffDate").Value),
                        LookUp(
                            ValidationErrorMessage,
                            Key = "errDelegationCutOffDate",
                            Value
                        )
                    )
                }
              
            );
            If(
               // CountA(colPRValidation) > 0,
                CountRows(
                    Filter(
                        colDelegationValidation3,
                        !IsBlank(Errors)
                    )
                ) > 0,
                UpdateContext(
                    {
                        varValidationPopUp: true,
                        Loading: false
                    }
                ),
            Set(
                VarID,
                Patch(
                    Delegation,
                         LookUp(
                            Delegation,
                            ID = varDelegationRecords.ID
                        ),
                    {
                        ApproverName: txtApproverName_3.Text,
                        SubstituteApprover: cmbDelegationApprover_2.Selected.DisplayName,
                        LeaveDate: dtLeaveDate_2.SelectedDate,
                        ReturnDate: dtReturnDa_2.SelectedDate
                    }
                ).ID
            );
             UpdateContext(
                    {
                        Loading: false,
                        NewScreenPOPUP: true,
                        MessageText: LookUp(
                            ValidationErrorMessage,
                            Key = "NewFormsuccessMsg",
                            Value
                        )
                    }
                );
                 Set(
                    Link,
                    Concatenate(
                        LookUp(
                            GlobalConfig,
                            Key = "AppLink",
                            Value
                        ),
                        "&source=portal&RequestId=",
                        varDelegationRecords.ID
                    )
                );
            /*Set(
                Link,
                Concatenate(
                    LookUp(
                        GlobalConfig,
                        Key = "AppLink",
                        Value
                    ),
                    "&source=portal&RequestId=",
                    ViewRecord.ID
                )
            );*/
            Set(
                MailSubject,
                LookUp(
                    Email,
                    Key = "DelegationNotify",
                    Subject
                )
            );
            Set(
                MailBody,
                Substitute(
                    Substitute(
                        Substitute(
                            Substitute(
                                Substitute(
                                    LookUp(
                                        Email,
                                        Key = "DelegationNotify",
                                        Body
                                    ),
                                    "<ApproverName>",
                                    txtApproverName_3.Text
                                ),
                                "<DelegatorName>",
                                cmbDelegationApprover_2.Selected.DisplayName
                            ),
                            "<DelegationStDate>",
                            dtLeaveDate_2.SelectedDate
                        ),
                        "<DelegationEndDate>",
                        dtReturnDa_2.SelectedDate
                    ),
                    "<Link>",
                    Link
                )
            );
              'MahleGPR-Mail-Flow'.Run(
                       cmbDelegationApprover_2.Selected.Mail,
                       "",
                    MailSubject,
                    MailBody
                );
                );
        Size: =Apptheme.FontSize
        Text: ="Save"
        Visible: |-
            =varUserMail in varDelegationRecords.ApproverEmail && Today()<= DateValue(varDelegationRecords.ReturnDate) && !btn3dot_8.Visible
            //(varUserMail in varDelegationRecords.ApproverEmail && dtReturnDa_2<Today()) && !btn3dot_8.Visible
        X: |-
            =//btnPrint_1.X+btnPrint_1.Width*4
            //btnPrint.X+btnPrint.Width*4
            If(App.ActiveScreen.Size>2,  Rectangle1_16.X+Rectangle1_16.Width-Self.Width*3)
        Y: |-
            =//Rectangle1_1.Y+(Rectangle1_1.Height-Self.Height)/2
            If(App.ActiveScreen.Size>2, Rectangle1_16.Y+(Rectangle1_16.Height-Self.Height)/2,btn3dot_8.Y+btn3dot_8.Height+5)
        ZIndex: =5

    btnCancel_15 As button:
        Font: =Apptheme.FontFamily
        Height: =30
        OnSelect: |-
            =Navigate(Scr_Delegation);
            Refresh(Delegation);
        Size: =Apptheme.FontSize
        Text: ="Back"
        Visible: =!btn3dot_8.Visible
        X: |-
            =//btnSave.X+btnSave.Width+20
            If(App.ActiveScreen.Size>2,  Rectangle1_16.X+Rectangle1_16.Width-Self.Width*1.7)
        Y: |-
            =//btnSave.Y+(btnSave.Height-Self.Height)/2
            If(App.ActiveScreen.Size>2, Rectangle1_16.Y+(Rectangle1_16.Height-Self.Height)/2,btnSave_5.Y+btnSave_5.Height+5)
        ZIndex: =6

    icnPrint_16 As icon.Print:
        Color: =RGBA(91, 155, 213, 1)
        Height: =btnPrint_16.Height-15
        Icon: =Icon.Print
        X: =btnPrint_16.X
        Y: =Rectangle1_16.Y+(Rectangle1_16.Height-Self.Height)/2
        ZIndex: =7

    btn3dot_8 As button:
        Color: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(0, 0, 0, 0)
        OnSelect: |-
            =UpdateContext({varDelegationSaveCancel:!varDelegationSaveCancel})
        Text: =". . ."
        Visible: =App.ActiveScreen.Size<=2
        Width: =50
        X: =Rectangle1_16.X+Rectangle1_16.Width-Self.Width-20
        Y: =btnPrint_16.Y
        ZIndex: =8

    HeaderNavigation_21 As HeaderNavigation:
        Height: |
            =//HeaderNavigation.HeaderHeight
            If(HeaderNavigation_21.AdminVisible,480,40)
        Visible: =App.ActiveScreen.Size>2
        ZIndex: =9

    lblNewDelegation_4 As label:
        Font: =Apptheme.FontFamily
        FontWeight: =FontWeight.Bold
        Size: =Apptheme.FontHeaderSize
        Text: ="Delegation"
        Width: =Parent.Width-Self.X
        X: =Switch(App.ActiveScreen.Size,4,50,10)
        Y: =Switch(App.ActiveScreen.Size,4,HeaderNavigation_21.Y+50,icnHamburgerMenu_6.Y+icnHamburgerMenu_6.Height)
        ZIndex: =10

    mobContainer19_1 As groupContainer.manualLayoutContainer:
        BorderColor: =RGBA(149, 149, 149, 1)
        BorderThickness: =2
        Height: =btnMobCancel_14.Y+btnMobCancel_14.Height+10
        Visible: =btn3dot_8.Visible && varDelegationSaveCancel
        Width: =170
        X: =btn3dot_8.X-(Self.Width-btn3dot_8.Width)
        Y: =btn3dot_8.Y-Self.Height
        ZIndex: =11

        btnMobSave_4 As button:
            BorderThickness: =0.1
            Fill: =RGBA(127, 178, 57, 1)
            Font: =Apptheme.FontFamily
            Height: =30
            OnSelect: =Select(btnSave_5);
            Size: =Apptheme.FontSize
            Text: ="Save"
            Visible: =Switch(App.ActiveScreen.Size,4,true,3,true,varDelegationSaveCancel)
            Y: =5
            ZIndex: =1

        btnMobCancel_14 As button:
            Font: =Apptheme.FontFamily
            Height: =30
            OnSelect: =Select(btnCancel_15)
            Size: =Apptheme.FontSize
            Text: ="Back"
            Visible: =Switch(App.ActiveScreen.Size,4,true,3,true,varDelegationSaveCancel)
            Y: =btnMobSave_4.Y+btnMobSave_4.Height+5
            ZIndex: =2

    LeftNavigation_7 As LeftNavigation:
        Height: |-
            =//App.Height
            Max(App.Height,App.DesignHeight)
        Visible: =App.ActiveScreen.Size<=2 && varShowNav
        ZIndex: =12

    icnHamburgerMenu_6 As icon.Hamburger:
        AccessibleLabel: ="Menu"
        Height: =30
        Icon: =If(varShowNav,Icon.Cancel,Icon.Hamburger)
        OnSelect: |-
            =UpdateContext({varShowNav:!varShowNav})
        TabIndex: =0
        Visible: =App.ActiveScreen.Size<=2
        Width: =30
        ZIndex: =13

    POPMessage_8 As group:
        Height: =5
        Width: =5
        X: =-260
        Y: =-60
        ZIndex: =14

        rec_BGPopup_18 As rectangle:
            Fill: =RGBA(0, 0, 0, 0.2)
            Height: =1030
            Visible: =NewScreenPOPUP
            Width: =Parent.Width
            ZIndex: =24

        Button3_23 As button:
            Align: =Align.Left
            DisabledColor: =RGBA(0, 0, 0, 1)
            DisabledFill: =RGBA(255, 255, 255, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(241, 244, 249, 1)
            FontWeight: =FontWeight.Normal
            Height: =200
            PaddingBottom: =0
            PaddingLeft: =20
            PaddingRight: =0
            PaddingTop: =20
            Size: =11
            Text: ="Success"
            Underline: =true
            VerticalAlign: =VerticalAlign.Top
            Visible: =NewScreenPOPUP
            Width: =Switch(App.ActiveScreen.Size,4,(dtacrd_Requestor.Width-750),3,(dtacrd_Requestor.Width-350),(dtacrd_Requestor.Width-100))
            X: =(Parent.Width-Self.Width)/2
            Y: =(Parent.Height-Self.Height)/2
            ZIndex: =25

        Button3_24 As button:
            Align: =Align.Left
            BorderStyle: =BorderStyle.None
            BorderThickness: =0.1
            DisabledColor: =RGBA(0, 0, 0, 1)
            DisabledFill: =RGBA(230, 230, 230, 1)
            DisplayMode: =DisplayMode.Disabled
            Fill: =RGBA(241, 244, 249, 1)
            FontWeight: =FontWeight.Normal
            Height: =Button3_23.Height-140
            PaddingBottom: =0
            PaddingLeft: =20
            PaddingRight: =0
            PaddingTop: =20
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =12
            Text: =""
            VerticalAlign: =VerticalAlign.Top
            Visible: =NewScreenPOPUP
            Width: =Button3_23.Width
            X: =Button3_23.X
            Y: =Button3_23.Y+Button3_23.Height-60
            ZIndex: =26

        btnSubmitNA_17 As button:
            Color: =RGBA(0, 0, 0, 1)
            Fill: =RGBA(54, 176, 75, 1)
            Font: =Apptheme.FontFamily
            FontWeight: =FontWeight.Bold
            Height: =25
            HoverColor: =RGBA(0, 0, 0, 1)
            HoverFill: =RGBA(204, 204, 204, 1)
            OnSelect: |-
                =UpdateContext({NewScreenPOPUP:false});
                Navigate(Scr_Delegation);
            PaddingRight: =3.56
            PaddingTop: =3.56
            PressedFill: =Color.White
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =Switch(App.ActiveScreen.Size,4,10,3,10,9)
            Text: ="OK"
            Visible: =NewScreenPOPUP
            Width: =Switch(App.ActiveScreen.Size,4,70,3,70,2,60,60)
            X: =Button3_23.X+Button3_23.Width/2-Self.Width/2
            Y: =Button3_24.Y+19
            ZIndex: =27

        lbl_msg_8 As label:
            Align: =Align.Center
            BorderStyle: =BorderStyle.None
            BorderThickness: =0.1
            DisabledFill: =RGBA(241, 244, 249, 1)
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(255, 255, 255, 1)
            FontWeight: =FontWeight.Semibold
            Height: =Button3_24.Y-Self.Y
            Size: =10
            Text: =MessageText
            Visible: =NewScreenPOPUP
            Width: =Button3_23.Width-2
            X: =Button3_23.X+2
            Y: =Button3_23.Y+50
            ZIndex: =28

    grpVal_7 As group:
        Height: =5
        Width: =5
        X: =-260
        Y: =-60
        ZIndex: =17

        rec_PopUPBG_12 As rectangle:
            Fill: =RGBA(0, 0, 0, 0.2)
            Height: =Parent.Height
            Visible: =varValidationPopUp
            Width: =Parent.Width
            ZIndex: =15

        btn_ValidationBG_7 As button:
            BorderColor: =RGBA(196, 196, 196, 1)
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Min(Self.Width,App.Height)
            HoverFill: =Self.Fill
            Text: =""
            Visible: =varValidationPopUp
            Width: =Switch(App.ActiveScreen.Size,4,Canvas6.Width/3,3,Canvas6.Width/2,2,Canvas6.Width/2,Canvas6.Width-40)
            X: =Switch(App.ActiveScreen.Size,4,App.Width/2-Self.Width/2,3,Canvas6.X+Canvas6.Width/2-Self.Width/2,Canvas6.X+Canvas6.Width/2-Self.Width/2)
            Y: =Switch(App.ActiveScreen.Size,4,App.Height/2-Self.Height/2,3,App.Height/2-Self.Height/2,App.Height/2-Self.Height/2)
            ZIndex: =16

        rec_ValidationLine1_12 As rectangle:
            Fill: =RGBA(196, 196, 196, 1)
            Height: =1
            Visible: =varValidationPopUp
            Width: =btn_ValidationBG_7.Width-2*Switch(App.ActiveScreen.Size,4,25,3,20,10)
            X: =btn_ValidationBG_7.X+Switch(App.ActiveScreen.Size,4,25,3,20,10)
            Y: =lbl_ValidationMsgHeader_7.Y+lbl_ValidationMsgHeader_7.Height+Switch(App.ActiveScreen.Size,4,10,3,10,10)
            ZIndex: =18

        lbl_ValidationMsgHeader_7 As label:
            Font: =Apptheme.FontFamily
            FontWeight: =FontWeight.Semibold
            Height: =50
            PaddingLeft: =15
            Size: =Apptheme.FontSize
            Text: ="Alert"
            Visible: =varValidationPopUp
            Width: =btn_ValidationBG_7.Width-100
            X: =Img_ValidationIcon_12.X+Img_ValidationIcon_12.Width
            Y: =Img_ValidationIcon_12.Y
            ZIndex: =19

        Img_ValidationIcon_12 As image:
            Height: =Self.Width
            Image: ='icons8-error-48'
            Visible: =varValidationPopUp
            Width: =Switch(App.ActiveScreen.Size,4,40,3,30,30)
            X: =btn_ValidationBG_7.X+Switch(App.ActiveScreen.Size,4,25,3,20,10)
            Y: =btn_ValidationBG_7.Y+12.5
            ZIndex: =20

        rec_validationLine2_7 As rectangle:
            Fill: =RGBA(196, 196, 196, 1)
            Height: =1
            Visible: =varValidationPopUp
            Width: =rec_ValidationLine1_12.Width
            X: =rec_ValidationLine1_12.X
            Y: =btn_ValidationOK_7.Y-Self.Height-Switch(App.ActiveScreen.Size,4,20,3,30,15)
            ZIndex: =21

        btn_ValidationOK_7 As button:
            AutoDisableOnSelect: =false
            Fill: =RGBA(0, 154, 68, 1)
            Font: =Apptheme.FontFamily
            Height: =25
            HoverFill: =
            OnSelect: |
                =
                UpdateContext({varValidationPopUp:false});
            RadiusBottomLeft: =5
            RadiusBottomRight: =5
            RadiusTopLeft: =5
            RadiusTopRight: =5
            Size: =Apptheme.FontButtonSize
            Text: ="OK"
            Visible: =varValidationPopUp
            Width: =Switch(App.ActiveScreen.Size,4,70,3,70,2,60,60)
            X: =btn_ValidationBG_7.X+(btn_ValidationBG_7.Width-Self.Width)/2
            Y: =btn_ValidationBG_7.Y+btn_ValidationBG_7.Height-Self.Height-Switch(App.ActiveScreen.Size,4,20,3,30,15)
            ZIndex: =22

        gal_ValidationErrors_7 As listbox:
            AccessibleLabel: ="Error pop up"
            DisplayMode: =DisplayMode.View
            Height: =rec_validationLine2_7.Y-rec_ValidationLine1_12.Y-2*Switch(App.ActiveScreen.Size,4,10,3,15,10)
            Items: |-
                =ForAll(Distinct(Filter(colDelegationValidation3,!IsBlank(Errors)),Errors), {Result: ThisRecord.Value})
            Size: =Apptheme.FontSize-2
            Visible: =varValidationPopUp
            Width: =rec_ValidationLine1_12.Width
            X: =rec_ValidationLine1_12.X
            Y: =rec_ValidationLine1_12.Y+Switch(App.ActiveScreen.Size,4,10,3,15,10)
            ZIndex: =23

    grp_Loading_15 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =31

        rec_BGPopup_49 As rectangle:
            Fill: =RGBA(0, 0, 0, 0.2)
            Height: =Parent.Height
            Visible: =Loading
            Width: =Parent.Width
            ZIndex: =29

        Image1_21 As image:
            Image: =slds_spinner_brand
            Visible: =Loading
            X: =Parent.Width/2
            Y: =Parent.Height/2
            ZIndex: =30

